@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
}

.dark {
  color-scheme: dark;
}

html {
  scroll-behavior: smooth;
}

body {
  @apply bg-smoke text-ink antialiased;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
}

.dark body {
  @apply bg-[#0f0f23] text-gray-100;
}

/* Cards */
.card {
  @apply bg-white rounded-2xl shadow-card border border-gray-100 transition-all duration-200;
}

.dark .card {
  @apply bg-surface-dark border-gray-800/50 shadow-none;
}

.card:hover {
  @apply shadow-soft;
}

.dark .card:hover {
  @apply border-gray-700;
}

/* Inputs */
input:not([type="checkbox"]):not([type="file"]),
textarea {
  @apply w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-ink
         placeholder:text-gray-400 transition-all duration-200
         focus:outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent;
}

.dark input:not([type="checkbox"]):not([type="file"]),
.dark textarea {
  @apply border-gray-700 bg-gray-800/50 text-gray-100 placeholder:text-gray-500
         focus:ring-accent/30 focus:border-accent;
}

/* File input */
input[type="file"] {
  @apply text-sm text-muted file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0
         file:text-sm file:font-medium file:bg-accent/10 file:text-accent
         hover:file:bg-accent/20 file:cursor-pointer file:transition-colors;
}

.dark input[type="file"] {
  @apply text-gray-400 file:bg-accent/20 file:text-accent;
}

/* Checkbox */
input[type="checkbox"] {
  @apply h-4 w-4 rounded border-gray-300 text-accent focus:ring-accent/20 cursor-pointer;
}

.dark input[type="checkbox"] {
  @apply border-gray-600 bg-gray-800;
}

/* Primary button */
.btn-primary {
  @apply inline-flex items-center justify-center gap-2 rounded-xl 
         bg-accent px-5 py-2.5 text-sm font-semibold text-white
         hover:bg-accent-hover active:scale-[0.98] transition-all duration-200
         disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-accent disabled:active:scale-100;
}

/* Secondary button */
.btn-secondary {
  @apply inline-flex items-center justify-center gap-2 rounded-xl 
         border border-gray-200 bg-white px-5 py-2.5 text-sm font-semibold text-ink
         hover:bg-gray-50 active:scale-[0.98] transition-all duration-200;
}

.dark .btn-secondary {
  @apply border-gray-700 bg-gray-800/50 text-gray-200 hover:bg-gray-700/50;
}

/* Ghost button (icon buttons) */
.btn-ghost {
  @apply inline-flex items-center justify-center rounded-xl p-2.5
         text-muted hover:bg-gray-100 hover:text-ink
         active:scale-95 transition-all duration-200;
}

.dark .btn-ghost {
  @apply text-gray-400 hover:bg-gray-800 hover:text-gray-100;
}

/* Danger button */
.btn-danger {
  @apply inline-flex items-center justify-center gap-2 rounded-xl
         bg-red-500/10 px-4 py-2 text-sm font-medium text-red-600
         hover:bg-red-500/20 active:scale-[0.98] transition-all duration-200;
}

.dark .btn-danger {
  @apply bg-red-500/20 text-red-400 hover:bg-red-500/30;
}

/* Labels */
.label {
  @apply block text-sm font-medium text-muted mb-2;
}

.dark .label {
  @apply text-gray-400;
}

/* Page container */
.page-container {
  @apply max-w-5xl mx-auto px-4 py-6 pb-24 sm:pb-6;
}

/* Skeleton loader */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  @apply bg-gray-200 rounded-lg;
  background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

.dark .skeleton {
  background: linear-gradient(90deg, #1f2937 25%, #374151 50%, #1f2937 75%);
  background-size: 200% 100%;
}

/* Empty state */
.empty-state {
  @apply flex flex-col items-center justify-center py-16 text-center;
}

.empty-state-icon {
  @apply w-16 h-16 mb-4 text-gray-300;
}

.dark .empty-state-icon {
  @apply text-gray-600;
}

/* Bottom navigation (mobile) */
.bottom-nav {
  @apply fixed bottom-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-t border-gray-200 sm:hidden;
}

.dark .bottom-nav {
  @apply bg-surface-dark/80 border-gray-800;
}

/* Top navbar */
.top-nav {
  @apply sticky top-0 z-40 bg-white/80 backdrop-blur-lg border-b border-gray-100;
}

.dark .top-nav {
  @apply bg-[#0f0f23]/80 border-gray-800;
}

/* Nav link */
.nav-link {
  @apply flex flex-col items-center justify-center gap-1 px-4 py-2 text-muted transition-colors;
}

.nav-link:hover {
  @apply text-ink;
}

.dark .nav-link:hover {
  @apply text-gray-100;
}

.nav-link.active {
  @apply text-accent;
}

.nav-link-label {
  @apply text-[10px] font-medium;
}

/* Desktop nav link */
.nav-link-desktop {
  @apply flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium text-muted transition-all;
}

.nav-link-desktop:hover {
  @apply bg-gray-100 text-ink;
}

.dark .nav-link-desktop:hover {
  @apply bg-gray-800 text-gray-100;
}

.nav-link-desktop.active {
  @apply bg-accent/10 text-accent;
}

/* Recipe image placeholder */
.image-placeholder {
  @apply flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 text-gray-400;
}

.dark .image-placeholder {
  @apply from-gray-800 to-gray-900 text-gray-600;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

.dark ::-webkit-scrollbar-thumb {
  @apply bg-gray-700;
}

.dark ::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-600;
}

/* Focus visible */
*:focus-visible {
  @apply outline-none ring-2 ring-accent/50 ring-offset-2 ring-offset-white;
}

.dark *:focus-visible {
  @apply ring-offset-[#0f0f23];
}
